@{
    var session = (startup_website_asp.net.Common.CustomerLogin)Session[startup_website_asp.net.Common.CommonSession.CUSTOMER_SESSION];
}
<!DOCTYPE html>
<html>
<head>
	<!-- Meta Tag -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name='copyright' content=''>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<!-- Title Tag  -->
	<title>@ViewBag.Title | GoStartup</title>
	<!-- Favicon -->
	<link rel="icon" type="image/png" href="~/Content/images/favicon.png">
	<link href="https://fonts.googleapis.com/css?family=Merriweather:700|Montserrat:400,500,600,700&display=swap&subset=vietnamese" rel="stylesheet">

	<!-- StyleSheet -->
	<!-- Bootstrap -->
	<link rel="stylesheet" href="~/Content/css/bootstrap.css">
	<!-- Magnific Popup -->
	<link rel="stylesheet" href="~/Content/css/magnific-popup.min.css">
	<!-- Font Awesome -->
	<!--<link rel="stylesheet" href="~/Content/css/font-awesome.css"> -->
	<link href="~/Content/fontawesome/css/all.css" rel="stylesheet" />
	<!-- Fancybox -->
	<link rel="stylesheet" href="~/Content/css/jquery.fancybox.min.css">
	<!-- Themify Icons -->
	<link rel="stylesheet" href="~/Content/css/themify-icons.css">
	<!-- Nice Select CSS -->
	<link rel="stylesheet" href="~/Content/css/niceselect.css">
	<!-- Animate CSS -->
	<link rel="stylesheet" href="~/Content/css/animate.css">
	<!-- Flex Slider CSS -->
	<link rel="stylesheet" href="~/Content/css/flex-slider.min.css">
	<!-- Owl Carousel -->
	<link rel="stylesheet" href="~/Content/css/owl-carousel.css">
	<!-- Slicknav -->
	<link rel="stylesheet" href="~/Content/css/slicknav.min.css">
	<link rel="stylesheet" href="~/Content/css/settings.css">
	<!-- Eshop StyleSheet -->
	<link rel="stylesheet" href="~/Content/css/reset.css">

	<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />
	<link rel="stylesheet" href="~/Content/css/responsive.css">

	<!-- Color CSS -->
	<!--<link rel="stylesheet" href="css/color/color2.css">-->
	<!--<link rel="stylesheet" href="css/color/color3.css">-->
	<!--<link rel="stylesheet" href="css/color/color4.css">-->
	<!--<link rel="stylesheet" href="css/color/color5.css">-->
	<!--<link rel="stylesheet" href="css/color/color6.css">-->
	<!--<link rel="stylesheet" href="css/color/color7.css">-->
	<!--<link rel="stylesheet" href="css/color/color8.css">-->
	<!--<link rel="stylesheet" href="css/color/color9.css">-->
	<!--<link rel="stylesheet" href="css/color/color10.css">-->
	<!--<link rel="stylesheet" href="css/color/color11.css">-->
	<!--<link rel="stylesheet" href="css/color/color12.css">-->

	<link rel="stylesheet" href="#" id="colors">
	<link rel="stylesheet" href="~/Content/style.css">
	<link rel="stylesheet" href="~/Content/css/common.css">
	<link rel="stylesheet" href="~/Content/css/color/color1.css">
	<link rel="stylesheet" href="~/Content/css/Pages/Account.css">
	<link rel="stylesheet" href="~/Content/css/Pages/ProfileAccountOrderDetail.css">

	<link href="~/Content/css/components/product-card.css" rel="stylesheet" />
	<link href="~/Content/css/components/alert.css" rel="stylesheet" />
	<link href="~/Content/css/components/startup-card.css" rel="stylesheet" />

	<link href="~/Content/css/Pages/StartupList.css" rel="stylesheet" />
	@* css Account *@
	@RenderSection("css", required: false)
</head>
<body class="js">
	<!-- Preloader -->
	<div class="preloader">
		<div class="preloader-inner">
			<div class="preloader-icon">
				<span></span>
				<span></span>
			</div>
		</div>
	</div>
	<!-- End Preloader -->
	<!-- Eshop Color Plate -->
	@*<div class="color-plate ">
			<a class="color-plate-icon"><i class="ti-paint-bucket"></i></a>
			<h4>Eshop Colors</h4>
			<p>Here is some awesome color's available on Eshop Template.</p>
			<span class="color1"></span>
			<span class="color2"></span>
			<span class="color3"></span>
			<span class="color4"></span>
			<span class="color5"></span>
			<span class="color6"></span>
			<span class="color7"></span>
			<span class="color8"></span>
			<span class="color9"></span>
			<span class="color10"></span>
			<span class="color11"></span>
			<span class="color12"></span>
		</div>*@
	<!-- /End Color Plate -->
	<!-- Header -->
	@{Html.RenderAction("Header", "Home");}
	<!--/ End Header -->
	@RenderBody()
	<!-- Start Footer Area -->
	@RenderPage("~/Views/Shared/_Footer.cshtml")
	<!-- /End Footer Area -->
	<!-- Jquery -->
	<script src="~/Content/js/jquery.min.js"></script>
	<script src="~/Content/js/jquery-migrate-3.0.0.js"></script>
	<script src="~/Content/js/jquery-ui.min.js"></script>

	<!-- Popper JS -->
	<script src="~/Content/js/popper.min.js"></script>
	<!-- Bootstrap JS -->
	<script src="~/Content/js/bootstrap.min.js"></script>
	<!-- Color JS -->
	<script src="~/Content/js/colors.js"></script>
	<!-- Slicknav JS -->
	<script src="~/Content/js/slicknav.min.js"></script>
	<!-- Owl Carousel JS -->
	<script src="~/Content/js/owl-carousel.js"></script>
	<!-- Magnific Popup JS -->
	<script src="~/Content/js/magnific-popup.js"></script>
	<!-- Waypoints JS -->
	<script src="~/Content/js/waypoints.min.js"></script>
	<!-- Countdown JS -->
	<script src="~/Content/js/finalcountdown.min.js"></script>
	<!-- Nice Select JS -->
	<script src="~/Content/js/nicesellect.js"></script>
	<!-- Flex Slider JS -->
	<script src="~/Content/js/flex-slider.js"></script>
	<!-- ScrollUp JS -->
	<script src="~/Content/js/scrollup.js"></script>
	<!-- Onepage Nav JS -->
	<script src="~/Content/js/onepage-nav.min.js"></script>
	<!-- Easing JS -->
	<script src="~/Content/js/easing.js"></script>
	<!-- Active JS -->
	<script src="~/Content/js/active.js"></script>

	@* Script cart *@
	<script>
		$(document).ready(function () {
			getCartNumber(null);
			$('.btn-addProductToCard').off('click').on('click', function (e) {
				e.preventDefault();
				getCartNumber($(this).data('id'));
			});

			$('.btn-addProductToFivoriteProduct').off('click').on('click', function (e) {
				e.preventDefault();
				ChangeProductLikeds($(this).data('id'));
			});

		});

		function getCartNumber(id) {
			$.ajax({
				data: { productID: id },
				url: '/Carts/AddItem',
				dataType: 'json',
				type: 'POST',
                success: function (result) {
                    if (id != null) {
                        
                        var alert = `<div class="alert alert-success" id = "alert-`+id+`" role="alert">
	Thêm vào giỏ hàng thành công.</div>`; $("body").append(alert);
                        setTimeout(() => {
                            $(`#alert-${id}`).remove();
                        }, 1000)
                    }
                    
                    
					$('#cartItem').html("");
                    $('#cartItem').append(result);

				}
			})
		}

		function deleteProductCart(event) {
			let id = event.target.dataset.id;
			$.ajax({
				data: { ID: id },
				url: '/Carts/Delete',
				dataType: 'json',
				type: 'GET',
                success: function (res) {
					$('#cartItem').html("");
					$('#cartItem').append(res.HtmlCart);

					$(`#cart-${id}`).remove();


                    $(`#check-sum-price-all-product-${res.StartupId}`).html("");
                    $(`#check-sum-price-all-product-${res.StartupId}`).append(res.SumAllPriceProduct);

					//$('#price-ship').html("");
					//$('#price-ship').append(res.PriceShip);

                    $(`#sum-price-all-product-you-pay-${res.StartupId}`).html("");
                    $(`#sum-price-all-product-you-pay-${res.StartupId}`).append(res.SumAllPriceProductYouPay);

                    if (res.Flas == false) {
                        $(`#cart-${res.StartupId}`).html("");
                    }
				}
			})
		}

		function ChangeProductLikeds(id) {
			$.ajax({
				data: { productID: id },
				url: '/Account/ChangeProductToListProductLiked',
				dataType: 'json',
				type: 'GET',
				success: function (result) {
					if (result.viewCount != "sessionNull") {
						if (result.status == false) {
							$(`.count-number-${id}`).html("");
							$(`.count-number-${id}`).append(result.viewCount);
							$(`.product-like-${id}`).addClass("far");
							$(`.product-like-${id}`).removeClass("fas");
							$(`.tooltip-${id}`).text("Yêu thích");
						} else if (result.status == true) {
							$(`.count-number-${id}`).html("");
							$(`.count-number-${id}`).append(result.viewCount);
							$(`.product-like-${id}`).addClass("fas");
							$(`.product-like-${id}`).removeClass("far");
							$(`.tooltip-${id}`).text("Bỏ thích");

						}
					} else {
						window.location.href = "/dang-nhap"
					}

				}
			})
		}

		function MinusQuantityAndTotal(event) {
			event.preventDefault();
			let id = event.target.dataset.id;
			$.ajax({
				data: { ID: id },
				url: '/Carts/Minus',
				datatype: 'json',
				type: 'get',
				success: function (result) {
                    $(`#total-amount-${result.ProductId}`).html("");
                    $(`#total-amount-${result.ProductId}`).append(result.TotalPriceProduct);
                    $(`#input-${result.ProductId}`).val(result.Quantity);
                    $(`#id-quantity-${result.ProductId}`).html("");
                    $(`#id-quantity-${result.ProductId}`).append(result.Quantity);

                    $('#sum-price-all-product').html("");
                    $('#sum-price-all-product').append(result.TotalAllPriceProductCart);

                    $(`#check-sum-price-all-product-${result.StartupId}`).html("");
                    $(`#check-sum-price-all-product-${result.StartupId}`).append(result.TotalAllPriceProduct);

                    $('#price-ship').html("");
                    $('#price-ship').append(result.PriceShip);

                    $(`#sum-price-all-product-you-pay-${result.StartupId}`).html("");
                    $(`#sum-price-all-product-you-pay-${result.StartupId}`).append(result.TotalAllPriceProductToPay);
					}
			})
		}

		function PlusQuantityAndTotal(event) {
			event.preventDefault();
			let id = event.target.dataset.id;
			$.ajax({
				data: { ID: id },
				url: '/Carts/Plus',
				datatype: 'json',
				type: 'get',
                success: function (result) {
                    $(`#total-amount-${result.ProductId}`).html("");
                    $(`#total-amount-${result.ProductId}`).append(result.TotalPriceProduct);
                    $(`#input-${result.ProductId}`).val(result.Quantity);
                    $(`#id-quantity-${result.ProductId}`).html("");
                    $(`#id-quantity-${result.ProductId}`).append(result.Quantity);

					$('#sum-price-all-product').html("");
                    $('#sum-price-all-product').append(result.TotalAllPriceProductCart);

                    $(`#check-sum-price-all-product-${result.StartupId}`).html("");
                    $(`#check-sum-price-all-product-${result.StartupId}`).append(result.TotalAllPriceProduct);

                    $('#price-ship').html("");
                    $('#price-ship').append(result.PriceShip);

                    $(`#sum-price-all-product-you-pay-${result.StartupId}`).html("");
                    $(`#sum-price-all-product-you-pay-${result.StartupId}`).append(result.TotalAllPriceProductToPay);
				}
			})
		}

			//function ChangeInputQuantityAndTotal(event) {
			//    event.preventDefault();
			//    let id = event.target.dataset.id;
			//    $.ajax({
			//        data: { productid: id },
			//        url: '/Carts/Plus',
			//        datatype: 'json',
			//        type: 'get',
			//        success: function (result) {
			//            $(`#total-amount-${id}`).html("");
			//            $(`#total-amount-${id}`).append(result.TotalPriceProduct);
			//            $(`#input-${id}`).val(result.Quantity);
			//            $(`#id-quantity-${id}`).html("");
			//            $(`#id-quantity-${id}`).append(result.Quantity);
			//            $('#sum-price-all-product').html("");
			//            $('#sum-price-all-product').append(result.TotalAllPriceProduct);
			//        }
			//    })
			//}


	</script>

	@RenderSection("js", required: false)
</body>
</html>
